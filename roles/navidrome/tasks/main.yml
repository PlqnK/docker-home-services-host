---
- name: 'Configure and manage Navidrome container'
  when: (containers_list is not defined or (containers_list is defined and 'navidrome' in containers_list))
  block:
    - name: 'Create'
      ansible.builtin.include_tasks: 'create.yml'

    - name: 'Lifecycle'
      ansible.builtin.import_tasks: 'lifecycle.yml'

    - name: 'Remove'
      ansible.builtin.import_tasks: 'remove.yml'
      tags: ['never', 'containers-remove']
