---
- name: 'Install required dependencies and common tools'
  community.general.rpm_ostree_pkg:
    name:
      - 'firewalld'
      - 'nfs-utils'
      - 'checkpolicy'
      - 'setools-console'
      - 'python3-firewall'
      - 'google-authenticator'
      - 'cockpit-system'
      - 'cockpit-storaged'
      - 'cockpit-networkmanager'
      - 'cockpit-ostree'
      - 'cockpit-podman'
      - 'cockpit-selinux'
    state: 'present'
  notify: 'Reboot host'

- name: 'Reboot host if packages have been installed'
  ansible.builtin.meta: 'flush_handlers'
